<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select a currency to receive current e</title>
</head>

<body>
    <header>Select a currency to receive current price</header>
    <select id="selectCrypto"></select>
    <label for="">Crypto price: </label><input type="textbox" id="output" name="width"></input>
</body>
<script>
    const getData = () => {
        fetch("https://api.blockchain.com/v3/exchange/tickers/")
            .then(allKeys => allKeys.json())
            .then(x => {
                console.log(x);
                return x;
            })
            .then(function (allKeys) {
                let mainContainer = document.getElementById("selectCrypto");
                for (let i = 0; i < allKeys.length; i++) {
                    let opt = document.createElement('option');
                    opt.innerHTML = allKeys[i].symbol;
                    opt.value = allKeys[i];
                    mainContainer.appendChild(opt);
                }
            })
            .then(function getPrices(allKeys) {
                    let outContainer = document.getElementById("output");
                    for (let i = 0; i < allKeys.length; i++) {
                        let price = document.createElement("p");
                        price.value = allKeys[i].price_24h;
                        outContainer.appendChild(price);
                    }
                })
                
                    .catch(function (error) {
                        console.log(error);
                    });
            };
    
    getData();

</script>

</html>